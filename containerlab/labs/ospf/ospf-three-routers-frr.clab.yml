name: frr-ospf-three-routers

topology:
  nodes:
    R1:
      kind: linux
      image: quay.io/frrouting/frr:10.2.1
      binds:
        - R1/daemons:/etc/frr/daemons
        - R1/frr.conf:/etc/frr/frr.conf
    R2:
      kind: linux
      image: quay.io/frrouting/frr:10.2.1
      binds:
        - R2/daemons:/etc/frr/daemons
        - R2/frr.conf:/etc/frr/frr.conf
    R3:
      kind: linux
      image: quay.io/frrouting/frr:10.2.1
      binds:
        - R3/daemons:/etc/frr/daemons
        - R3/frr.conf:/etc/frr/frr.conf
    H1:
      kind: linux
      image: networklessons/lab-node-ubuntu:269
      mgmt-ipv4: 172.100.100.51
      exec:
      - ip link set dev eth1 address 00:50:c2:53:40:01
      - ip addr add 172.16.1.1/24 dev eth1
      labels:
        graph-level: 3
        graph-icon: server
    H2:
      kind: linux
      image: networklessons/lab-node-ubuntu:269
      mgmt-ipv4: 172.100.100.52
      exec:
      - ip link set dev eth1 address 00:50:c2:53:50:01
      - ip addr add 172.16.1.2/24 dev eth1
      labels:
        graph-level: 3
        graph-icon: server
    H3:      
      kind: linux
      image: networklessons/lab-node-ubuntu:269
      mgmt-ipv4: 172.100.100.53
      exec:
      - ip link set dev eth1 address 00:50:c2:53:60:01
      - ip addr add 172.16.1.3/24 dev eth1
      labels:
        graph-level: 3
        graph-icon: server
  links:
    - endpoints: ["R1:eth1", "R2:eth1"]
    - endpoints: ["R1:eth2", "R3:eth1"]
    - endpoints: ["R2:eth2", "R3:eth2"]
    - endpoints: ["H1:eth1", "R1:eth3"]
    - endpoints: ["H2:eth1", "R2:eth3"]
    - endpoints: ["H3:eth1", "R3:eth3"]
